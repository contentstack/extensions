(this["webpackJsonpyoutube-extension-popup"]=this["webpackJsonpyoutube-extension-popup"]||[]).push([[0],{60:function(e,t,s){},69:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s.n(i),c=s(29),a=s.n(c),d=s(32),o=s(2),l=s(8),r=s(9),h=s(10),j=s(12),u=s(11),b=s(20),v=s(0),A=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"loader",children:[Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})})]})}}]),s}(n.a.Component),p=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.isSelected,s=e.videos,i=e.selectedVideoList,n=e.handleSelect,c=e.loadContent,a=e.totalVideos,d=e.checkFiles,o=t?i:s;return Object(v.jsx)("ul",{className:"grid-layout",children:Object(v.jsx)("div",{className:"grid-body",children:o.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("ul",{children:null===o||void 0===o?void 0:o.map((function(e){var t=i.some((function(t){return t.id.videoId===e.id.videoId}));return Object(v.jsxs)("li",{title:e.snippet.title,id:e.id.videoId,className:t?"active":"",onClick:function(s){var i=s.currentTarget;t||e.id.videoId!==i.id?i.classList.remove("active"):i.classList.add("active"),n(e);var c=i.childNodes[0].childNodes[0].childNodes[0];c.checked=!c.checked},children:[Object(v.jsx)("div",{className:"cs-checkbox",children:Object(v.jsxs)("label",{children:[Object(v.jsx)("input",{type:"checkbox",className:"cs",defaultChecked:t,id:"checkbox-".concat(e.id.videoId),onChange:function(s){var i=s.target.parentNode.parentNode.parentNode;t||e.id.videoId!==i.id?i.classList.remove("active"):i.classList.add("active"),n(e)}}),Object(v.jsx)("span",{className:"lbl"})]})}),Object(v.jsxs)("div",{className:"item",children:[Object(v.jsx)("span",{className:"img",style:{backgroundImage:"url(".concat(e.snippet.thumbnails.medium.url,")")}}),Object(v.jsx)("span",{className:"name",children:e.snippet.title})]})]},e.id.videoId)}))}),Object(v.jsx)("div",{className:"load-more",onClick:c,style:{display:t||s.length+1>a?"none":"block"},children:Object(v.jsx)("a",{children:"Load More"})})]}):d?Object(v.jsx)("div",{className:"file-not-found",children:"File Not Found!"}):Object(v.jsx)(A,{})})})}}]),s}(n.a.PureComponent),g=s(30),O=s.n(g),x=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.isSelected,s=e.videos,i=e.selectedVideoList,n=e.handleSelect,c=e.loadContent,a=e.totalVideos,d=e.checkFiles,o=t?i:s;return Object(v.jsxs)("ul",{className:"list-layout",children:[Object(v.jsxs)("li",{className:"table-head",children:[Object(v.jsx)("div",{className:"table-cell w-5"}),Object(v.jsx)("div",{className:"table-cell w-35",children:"Name"}),Object(v.jsx)("div",{className:"table-cell w-30",children:"Modified By"}),Object(v.jsx)("div",{className:"table-cell w-30",children:"Last Modified"})]}),Object(v.jsx)("div",{className:"table-body",children:o.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("ul",{className:"video-list",children:null===o||void 0===o?void 0:o.map((function(e){var t=i.some((function(t){return t.id.videoId===e.id.videoId}));return Object(v.jsxs)("li",{title:e.snippet.title,id:e.id.videoId,className:t?"active":"",onClick:function(s){var i=s.currentTarget;t||e.id.videoId!==i.id?i.classList.remove("active"):i.classList.add("active"),n(e);var c=i.childNodes[0].childNodes[0].childNodes[0];c.checked=!c.checked},children:[Object(v.jsx)("div",{className:"cs-checkbox",children:Object(v.jsxs)("label",{children:[Object(v.jsx)("input",{type:"checkbox",className:"cs",id:"checkbox-".concat(e.id.videoId),defaultChecked:t,onChange:function(s){var i=s.target.parentNode.parentNode.parentNode;t||e.id.videoId!==i.id?i.classList.remove("active"):i.classList.add("active"),n(e)}}),Object(v.jsx)("span",{className:"lbl"})]})}),Object(v.jsx)("div",{className:"table-cell w-35",children:e.snippet.title}),Object(v.jsx)("div",{className:"table-cell w-30",children:e.snippet.channelTitle}),Object(v.jsx)("div",{className:"table-cell w-30",children:O()(e.snippet.publishTime).format("ddd, MMM D YYYY")})]},e.id.videoId)}))}),Object(v.jsx)("div",{className:"load-more",onClick:c,style:{display:t||s.length+1>a?"none":"block"},children:Object(v.jsx)("a",{children:"Load More"})})]}):d?Object(v.jsx)("div",{className:"file-not-found",children:"File Not Found!"}):Object(v.jsx)(A,{})})]})}}]),s}(n.a.PureComponent),m=s(15),f=s.n(m),N=s(18),y=s(31),V=s.n(y),k=function(){function e(t){var s=t.apiKey,i=t.channelId;Object(l.a)(this,e),this.apiKey=s,this.channelId=i}return Object(r.a)(e,[{key:"getVideos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=arguments.length>2?arguments[2]:void 0,i=this;return new Promise((function(n,c){var a={method:"GET",baseURL:"https://www.googleapis.com/youtube/v3/",url:"/search?part=snippet&maxResults=".concat(t,"&key=").concat(i.apiKey,"&channelId=").concat(i.channelId,"&type=video").concat(e?"&q=".concat(e):"&order=date","&pageToken=").concat(s||"")};V()(a).then((function(e){return n(e)})).catch((function(e){c(e)}))}))}}]),e}(),w=function(e,t,s){return Object(N.a)(f.a.mark((function i(){var n;return f.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=new k(e),i.next=3,n.getVideos(t,8,s);case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}),i)})))()},I=function(e,t){return Object(N.a)(f.a.mark((function s(){var i;return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=new k(e),s.next=3,i.getVideos(t,8,"");case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}}),s)})))()},S=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this,e)).selectingVideos=function(e){var t=i.state.selectedVideoList;if(t.some((function(t){return t.id.videoId===e.id.videoId})))t.splice(t.findIndex((function(t){return t.id.videoId===e.id.videoId})),1),i.setState({selectedVideoList:Object(b.a)(t)});else{var s=Object(b.a)(t);s.push(e),i.setState({selectedVideoList:s})}},i.refreshHandler=function(){var e=i.props.config;w(e).then((function(e){i.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken})})).catch((function(e){console.log(e)}))},i.loadMore=function(e){var t=i.props.config,s=i.state,n=s.searchQuery,c=s.nextPageToken,a=s.renderVideos,d=s.initialReqVideo;a.length!==d.pageInfo.totalResults?w(t,n,c).then((function(t){var s=i.state.renderVideos;(s=s.concat(t.data.items)).length+1>=d.pageInfo.totalResults&&(e.target.style.display="none");var n=0===s.length;i.setState({renderVideos:s,nextPageToken:t.data.nextPageToken,errorFound:n})})).catch((function(e){console.log(e),i.setState({errorFound:!0})})):e.target.style.display="none"},i.sendAndClose=function(e){var t=i.state.selectedVideoList;e?i.props.closeWindow(t):i.props.closeWindow([])},i.changeLayout=function(){i.setState((function(e){return{isGrid:!e.isGrid}}))},i.showAllVideos=function(){i.setState((function(e){return{isSelected:!e.isSelected}}))},i.showSelectedVideos=function(){i.setState((function(e){return{isSelected:!e.isSelected}}))},i.searchQueryHandler=function(e){var t=i.props.config,s=e.target.value.toLowerCase();i.setState({searchQuery:s}),13===e.charCode&&I(t,s).then((function(e){var t=0===e.data.items.length;i.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken,errorFound:t})}))},i.fetchQueryVideos=function(){var e=i.props.config,t=i.state.searchQuery;I(e,t).then((function(e){i.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken})}))},i.state={isGrid:!0,searchQuery:"",renderVideos:[],errorFound:!1,isSelected:!1,nextPageToken:void 0,initialReqVideo:void 0,selectedVideoList:e.selectedVideos},i.loadMore=i.loadMore.bind(Object(h.a)(i)),i.changeLayout=i.changeLayout.bind(Object(h.a)(i)),i.refreshHandler=i.refreshHandler.bind(Object(h.a)(i)),i.selectingVideos=i.selectingVideos.bind(Object(h.a)(i)),i.fetchQueryVideos=i.fetchQueryVideos.bind(Object(h.a)(i)),i.searchQueryHandler=i.searchQueryHandler.bind(Object(h.a)(i)),i}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.config;w(t).then((function(t){t.data.items.length+1>=t.data.pageInfo.totalResults&&(document.getElementsByClassName("load-more")[0].style.display="none");var s=0===t.data.items.length;e.setState({initialReqVideo:t.data,renderVideos:t.data.items,nextPageToken:t.data.nextPageToken,errorFound:s})})).catch((function(t){console.log(t),e.setState({errorFound:!0})}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.selectedVideos;e.selectedVideos!==t&&this.setState({selectedVideoList:e.selectedVideos})}},{key:"handleClick",value:function(){this.setState((function(e){return{isGrid:!e.isGrid}}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.renderVideos,i=t.selectedVideoList,n=t.initialReqVideo,c=t.isSelected,a=t.errorFound;return Object(v.jsx)("div",{className:"modal display-block",children:Object(v.jsxs)("section",{className:"modal-main",children:[this.props.children,Object(v.jsx)("div",{className:"modal-header",children:Object(v.jsx)("h2",{children:"Select Video"})}),Object(v.jsx)("div",{className:"search-bar",children:Object(v.jsxs)("div",{className:"cs-form-group search-box no-margin",children:[Object(v.jsx)("span",{className:"search-input",children:Object(v.jsx)("input",{type:"search",id:"search",className:"cs-text-box cs-global-search",placeholder:"Search Videos",onKeyPress:this.searchQueryHandler})}),Object(v.jsx)("span",{className:"search-icon",onClick:this.fetchQueryVideos,children:Object(v.jsx)("i",{className:"icon-search"})})]})}),Object(v.jsxs)("div",{className:"modal-body",children:[Object(v.jsxs)("div",{className:"video-section",children:[Object(v.jsx)("span",{children:"All Videos"}),Object(v.jsxs)("div",{className:"icons",children:[Object(v.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF5SURBVHgB1ZNNTsJAFIDfqyUiK47QI3CEeoO6gxW4MXVFEyxxJ+4MkEhX7c6ywcaNvUE5AjegR2AlTYQ+Z/oj08bWxJ0vaWY68773N+8hVIhmGO1mBG2+95xFWKWH5YOubg7YYZ9t1ZLmhggsgM91brCrjx/wBBoKYuMdCDoCFmarIp4hoBsnNmmC3zA0glQRQ4hja986uP5iscup3s1IIwmHDFaLgfFL3dymMC33zYMhgmXp3Zo8Si3/l3jOueffYJ6zCHORkWgIyLKB+Loe5sWlAZzqkl+MXvgH/1YQ/iisJkna2NPH2x/MTl7t6bIavlNZPwRIuJHZ2ytFlh5X9rwS5jOCESbeYyRLKnpGf+XMJ3VwKzp/hqxvPGfmygUNIo11ZXBEtN7sqS+CFx/yACIcsn5JYALpEtIamMTDTodD6hdTYnORWlaEHNlUnl15zlNyJyc5Z2F39XsX4Khm3dkpGqM1AS49e+aKQdc+I59SvkZN2FW1+ReWDaDM6q25YAAAAABJRU5ErkJggg==",alt:"refresh-icon",onClick:this.refreshHandler}),Object(v.jsx)("img",{src:this.state.isGrid?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAQCAYAAAD0xERiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB8SURBVHgB7dKxDYAgEEDRuwuDMImJJQuY2OEkuol0Ji5AaeIkTAIGI52Q01DyG4p7uebAzR6SgDRk8uDNqHrHcSICIpohr2ILxxFUrC37nognfS722j1PL8NVC3d7aiRccyD4MA2qMxxHAYKEQmnOce2f/ViGgK4E0pzjLuIGN5tNMdeEAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADVSURBVHgBzZSxEcIwDEW/FA+SQYBLGjiOGhoKWIEJgE3S5SAD5KCJIQtkBEbIAJyMlQAD+FLkFfY/FbIsfZuKW+2gEOx6Pk0v5ePEzEcEwhgYIyJnFQR69Sew9TGMBiruddUpR816MTlcy+eeItohEAOHpE/dz8bBxeQoQSCa0OJbYZdXe/mLjQFS33XCV7ZZzrKirBOBJAjE/E1M3TUzTTYqYw8O5b5nKkTe7XaVNnlZxb4TMQIxhtEbOzLWr6l/entmjOhzgCBV4SJudfdTzljYIpAPogJIB3xnhUwAAAAASUVORK5CYII=",onClick:this.changeLayout,alt:"view-option"})]})]}),Object(v.jsxs)("div",{className:"video-section",children:[this.state.isSelected?Object(v.jsxs)("span",{className:"select-count",onClick:this.showAllVideos,children:["Show all videos(",null===n||void 0===n?void 0:n.pageInfo.totalResults,")"]}):Object(v.jsxs)("span",{className:"select-count",onClick:this.showSelectedVideos,children:["Show selected videos(",i.length,")"]}),Object(v.jsxs)("span",{className:"video-count",children:["showing ",s.length," of"," ",null===n||void 0===n?void 0:n.pageInfo.totalResults," videos"]})]}),this.state.isGrid?Object(v.jsx)(p,{videos:s,isSelected:c,checkFiles:a,loadContent:this.loadMore,handleSelect:this.selectingVideos,selectedVideoList:i,totalVideos:n&&n.pageInfo.totalResults}):Object(v.jsx)(x,{videos:s,isSelected:c,checkFiles:a,loadContent:this.loadMore,handleSelect:this.selectingVideos,selectedVideoList:i,totalVideos:n&&n.pageInfo.totalResults})]}),Object(v.jsx)("div",{className:"modal-footer",children:Object(v.jsxs)("div",{className:"right",children:[Object(v.jsx)("button",{className:"cancel-btn btn",onClick:function(){return e.sendAndClose(!1)},children:"Cancel"}),Object(v.jsxs)("button",{className:"add-btn btn",onClick:function(){return e.sendAndClose(!0)},children:["Add Selected Videos ",i.length]})]})})]})})}}]),s}(n.a.PureComponent),C=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this,e)).onCloseWindow=function(e){e.length>0?window.opener.postMessage({message:"sending selected videos",selectedVideosList:e},"*"):window.opener.postMessage({message:"Window closed sending selected videos"},"*"),window.close()},i.state={message:"",config:void 0,selectedVideosList:[]},i.onCloseWindow=i.onCloseWindow.bind(Object(h.a)(i)),i}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;window.opener||window.close(),window.opener.postMessage({message:"get youtube config and selected videos",getConfig:!0},"*");window.addEventListener("message",(function(t){var s=t.data;s.config&&e.setState({message:s.message,config:s.config}),s.selectedVideos&&e.setState({message:s.message,selectedVideosList:s.selectedVideos})}),!1)}},{key:"render",value:function(){var e=this.state,t=e.config,s=e.selectedVideosList;return Object(v.jsx)("div",{children:t&&Object(v.jsx)(S,{config:t,closeWindow:this.onCloseWindow,selectedVideos:s})})}}]),s}(n.a.Component);s(60);var L=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(d.a,{children:Object(v.jsx)(o.c,{children:Object(v.jsx)(o.a,{exact:!0,path:"/",component:C})})})})},E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,70)).then((function(t){var s=t.getCLS,i=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;s(e),i(e),n(e),c(e),a(e)}))};a.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(L,{})}),document.getElementById("root")),E()}},[[69,1,2]]]);