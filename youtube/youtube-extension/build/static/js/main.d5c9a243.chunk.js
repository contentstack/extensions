(this["webpackJsonpyoutube-extension"]=this["webpackJsonpyoutube-extension"]||[]).push([[0],{42:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),a=n(31),c=n.n(a),o=n(36),l=n(2),d=n(11),r=n(12),u=n(9),p=n(15),h=n(14),j=(n(42),n(32)),f=n.n(j),v=n(18),b=n.n(v),g=n(33),m=n(34),O=n.n(m),x=function(){function e(t){var n=t.apiKey,i=t.channelId;Object(d.a)(this,e),this.apiKey=n,this.channelId=i}return Object(r.a)(e,[{key:"getSelectedVideos",value:function(e){var t=this;return new Promise((function(n,i){try{n(O()({method:"GET",baseURL:"https://www.googleapis.com/youtube/v3/videos/",url:"/?part=snippet&key=".concat(t.apiKey,"\n        &channelId=").concat(t.channelId,"\n        &type=video&order=date&id=").concat(e)}))}catch(s){i(s)}}))}}]),e}(),w=function(e,t){return Object(g.a)(b.a.mark((function n(){var i;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new x(e),n.next=3,i.getSelectedVideos(t);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},y=n(1),N=null,k=null,I=null;function C(){null===k?(clearInterval(I),I=null):null===k||k.closed?null!==k&&k.closed&&(clearInterval(I),N.focus(),N.close({message:"child was closed"}),I=null,k=null):k.focus()}var L=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).onClickHandler=i.onClickHandler.bind(Object(u.a)(i)),N=window.self,i}return Object(r.a)(n,[{key:"onClickHandler",value:function(){var e=this.props,t=e.url,n=e.name,i=e.opts,s=e.videos;!k||k.closed?(k=N.open(t,n,i),setTimeout((function(){k.opener.postMessage({message:"Opening YouTube Popup",selectedVideos:s},"*")}),0),null===I&&(I=setInterval(C,2e3))):k.focus()}},{key:"render",value:function(){var e=this.props.children;return Object(y.jsx)("button",{className:"choose_btn",type:"choose_btn",onClick:this.onClickHandler,children:e})}}]),n}(s.a.Component);L.defaultProps={name:"YouTube Popup",opts:"dependent=".concat(1,", alwaysOnTop=",1,", alwaysRaised=",1,", width=",800,", height=",590)};var S=n(35),V=n.n(S),D=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).dragulaDecorator=function(e){if(e){f()([e],{copySortSource:!0})}},i.extension={},i.state={message:"",videoList:[],config:{}},i.sonResponse=i.sonResponse.bind(Object(u.a)(i)),i.deleteVideo=i.deleteVideo.bind(Object(u.a)(i)),i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;V.a.init().then((function(t){var n=t.field.getData().items;t.window.enableAutoResizing(),n&&"object"!==typeof n[0]?w(t.config,n.toString()).then((function(n){var i=n.data.items.map((function(e){var t=e;return t.id={kind:"youtube#video",videoId:e.id},t}));e.setState({config:t.config,videoList:i},(function(){e.extension=t,t.window.enableAutoResizing()}))})).catch((function(e){console.log(e)})):e.setState({config:t.config,videoList:n||[]},(function(){e.extension=t,t.window.enableAutoResizing()}))}));window.addEventListener("message",(function(t){var n=t.data,i=e.state.videoList;if(n.getConfig){var s=e.state.config;t.source.postMessage({message:"Sending Config files",config:s,selectedVideos:i},t.origin)}else n.selectedVideosList&&e.saveExtensionData(n.selectedVideosList)}),!1)}},{key:"saveExtensionData",value:function(e){var t=this.state.config,n=[];t.saveFullResponse?n=e:e.forEach((function(e){n.push(e.id.videoId)})),this.extension.field.setData({items:n}),this.setState({videoList:e})}},{key:"deleteVideo",value:function(e){var t=e.target.parentNode.parentNode.parentNode.id,n=this.state.videoList;n.splice(n.findIndex((function(e){return e.id.videoId===t})),1),this.saveExtensionData(n)}},{key:"sonResponse",value:function(e,t){e&&this.setState({message:t.message})}},{key:"render",value:function(){var e=this,t=this.state,n=t.videoList,i=t.config;return Object(y.jsx)("header",{className:"App-header",children:Object(y.jsxs)("div",{className:"wrapper",children:[Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("div",{className:"reference-loading",style:{display:"none"},children:Object(y.jsxs)("div",{className:"loading-flash",children:[Object(y.jsx)("div",{}),Object(y.jsx)("div",{}),Object(y.jsx)("div",{}),Object(y.jsx)("div",{})]})}),Object(y.jsx)("div",{className:"main",children:Object(y.jsx)("div",{className:"selected-item",children:Object(y.jsx)("div",{className:"row selected-list",children:Object(y.jsx)("ul",{className:"drag1",ref:this.dragulaDecorator,children:null===n||void 0===n?void 0:n.map((function(t){return Object(y.jsx)("li",{id:t.id.videoId,title:t.snippet.title,children:Object(y.jsxs)("div",{className:"file",children:[Object(y.jsx)("a",{href:"https://www.youtube.com/embed/".concat(t.id.videoId),target:"_blank",className:"fileimage",children:Object(y.jsx)("span",{className:"fileimg",style:{backgroundImage:"url(".concat(t.snippet.thumbnails.default.url,")")}})}),Object(y.jsx)("span",{children:t.snippet.title}),Object(y.jsxs)("span",{className:"file-text",children:["Channel Name-",t.snippet.channelTitle]}),Object(y.jsxs)("span",{className:"file-text",children:["Description-",t.snippet.description]}),Object(y.jsx)("div",{className:"file-action trash",onClick:e.deleteVideo,children:Object(y.jsx)("span",{className:"close-icon"})})]})},t.snippet.channelTitle)}))})})})})]}),Object(y.jsx)(L,{url:i.redirectUrl,bridge:this.sonResponse,videos:n,children:"Choose Videos"})]})})}}]),n}(s.a.Component);var R=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(o.a,{children:Object(y.jsx)(l.c,{children:Object(y.jsx)(l.a,{exact:!0,path:"/",component:D})})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),s(e),a(e),c(e)}))};c.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(R,{})}),document.getElementById("root")),T()}},[[79,1,2]]]);